<?xml version="1.0"?>
<s:Group xmlns:fx="http://ns.adobe.com/mxml/2009"
         xmlns:s="library://ns.adobe.com/flex/spark"
         xmlns:button="dittner.gsa.view.common.button.*"
         xmlns:stylecomponents="dittner.gsa.view.common.common.*">

    <fx:Script><![CDATA[
        import dittner.gsa.domain.fileSystem.body.PictureBody;

        //--------------------------------------
        //  picture
        //--------------------------------------
        private var _picture:PictureBody;
        [Bindable("pictureChanged")]
        public function get picture():PictureBody {return _picture;}
        public function set picture(value:PictureBody):void {
            if (_picture != value) {
                _picture = value;
                dispatchEvent(new Event("pictureChanged"));
                invalidateDisplayList();
            }
        }

        //----------------------------------------------------------------------------------------------
        //
        //  Methods
        //
        //----------------------------------------------------------------------------------------------

        override protected function updateDisplayList(w:Number, h:Number):void {
            super.updateDisplayList(w, h);

            if (picture && picture.image) {
                img.source = picture.image;
                img.width = Math.min(picture.image.width, w - 40);
                img.height = Math.min(picture.image.height, h - 40);
                bg.width = picture.image.width + 20;
                bg.height = picture.image.height + 20;
                noFileLbl.visible = true;
                img.visible = true;
            }
            else {
                img.visible = false;
            }
        }
        ]]></fx:Script>

    <stylecomponents:Background width="100%" height="100%" alpha=".95" color="#21232c"/>
    <stylecomponents:Background id="bg" color="#ffFFff" verticalCenter="0" horizontalCenter="0"/>

    <s:Image id="img"
             scaleMode="letterbox"
             verticalCenter="0" horizontalCenter="0"/>

    <button:IconButton id="prevBtn"
                       left="50" verticalCenter="0"
                       upImage="@Embed(source='/assets/btn/prev_btn_up.png')"
                       downImage="@Embed(source='/assets/btn/prev_btn_down.png')"/>

    <button:IconButton id="nextBtn"
                       right="50" verticalCenter="0"
                       upImage="@Embed(source='/assets/btn/next_btn_up.png')"
                       downImage="@Embed(source='/assets/btn/next_btn_down.png')"/>

    <s:Label id="noFileLbl"
             color="#ffFFff"
             horizontalCenter="0" verticalCenter="40" fontSize="16" text="Kein Bild"/>

    <button:StrokeButton id="addPictureBtn"
                         label="+ Bild hinzufÃ¼gen"
                         bottom="0" left="50"
                         strokeColor="#ffFFff"/>
</s:Group>
